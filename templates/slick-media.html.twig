{#
/**
 * @file
 * Default theme implementation for the slick-media template.
 *
 * The Slick media supports core image, and media entity.
 * If iframe switcher is enabled, audio/video iframe will be hidden below image
 * overlay (content), and only visible when toggled. Otherwise iframe only, and
 * content is emptied.
 *
 * Available variables:
 *  - content: A renderable array of the main image/background.
 *  - attributes: An array of attributes.
 *  - content_attributes: An array of content attributes, including iframe SRC.
 *  - settings: An array containing the given settings.
 */
#}
{%
  set classes = [
    'media',
    settings.blazy ? 'media--loading',
    settings.type ? 'media--' ~ settings.type,
    settings.ratio_clean ? 'media--ratio ' ~ settings.ratio_clean,
    settings.media_switch ? 'media--switch media--switch--' ~ settings.media_switch|clean_class,
    settings.player ? 'media--slick--player',
    settings.responsive_image_style_id is defined ? 'media--responsive'
  ]
%}
{%
  set content_classes = [
    'media_iframe',
    settings.ratio ? 'media__ratio'
  ]
%}

{% spaceless %}
<div{{ attributes.addClass(classes) }}>
  {{ content }}
  {% if settings.player %}
    <iframe{{ content_attributes.addClass(content_classes) }} allowfullscreen></iframe>
    {% if settings.media_switch %}
      <i class="media-icon media-icon--close"></i>
      <i class="media-icon media-icon--play"></i>
      <i class="media-icon media-icon--spinner"></i>
    {% endif %}
  {% endif %}
</div>
{% endspaceless %}
